对原项目所做的修改：

* 将任务队列的实现方式由链表改为优先队列，并提供新的接口`thpool_add_work_priority()`，在增添任务时可以指定优先级。

* 对线程是否按优先级选取任务进行测试。由于线程的调度方式是不可控的，所以仅在线程池中创建了一个线程，用于输出所选取任务的优先级。

* 修正在初始化线程池过程中当线程个数小于等于0时线程池没有创建线程，并未给客户提供提示信息的问题。

* 修正初始化线程池中可能出现的无限循环问题。若其中某个线程初始化失败，`hpool_p->num_threads_alive `永远不会等于` num_threads`，此时陷入死循环。

  

  